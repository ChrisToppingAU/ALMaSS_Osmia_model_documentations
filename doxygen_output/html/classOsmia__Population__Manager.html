<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Osmia bicornis Population Model: Osmia_Population_Manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Osmia bicornis Population Model<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Agent-based solitary bee model within ALMaSS framework - MIDox Implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classOsmia__Population__Manager.html','','classOsmia__Population__Manager-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Osmia_Population_Manager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Central coordinator for <em>Osmia bicornis</em> population simulation.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Osmia_Population_Manager:</div>
<div class="dyncontent">
<div class="center"><img src="classOsmia__Population__Manager__inherit__graph.png" border="0" usemap="#aOsmia__Population__Manager_inherit__map" loading="lazy" alt="Inheritance graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Osmia_Population_Manager:</div>
<div class="dyncontent">
<div class="center"><img src="classOsmia__Population__Manager__coll__graph.png" border="0" usemap="#aOsmia__Population__Manager_coll__map" loading="lazy" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a047e019acba763f6ddf700c778d74b26" id="r_a047e019acba763f6ddf700c778d74b26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a047e019acba763f6ddf700c778d74b26">Osmia_Population_Manager</a> (Landscape *a_landscape)</td></tr>
<tr class="memdesc:a047e019acba763f6ddf700c778d74b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor initializing population manager.  <br /></td></tr>
<tr class="memitem:aacea74e3153907c28eba9f6fc4645355" id="r_aacea74e3153907c28eba9f6fc4645355"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aacea74e3153907c28eba9f6fc4645355">~Osmia_Population_Manager</a> ()</td></tr>
<tr class="memdesc:aacea74e3153907c28eba9f6fc4645355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor cleaning up population manager resources.  <br /></td></tr>
<tr class="memitem:a64e4f851baf4664844d2410f54481db3" id="r_a64e4f851baf4664844d2410f54481db3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64e4f851baf4664844d2410f54481db3">IsOsmiaNestPossible</a> (int a_polyindex)</td></tr>
<tr class="memdesc:a64e4f851baf4664844d2410f54481db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if polygon suitable for <em>Osmia</em> nesting.  <br /></td></tr>
<tr class="memitem:add181bfe760f2450d8834b8fcaf96d3a" id="r_add181bfe760f2450d8834b8fcaf96d3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOsmia__Nest.html">Osmia_Nest</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add181bfe760f2450d8834b8fcaf96d3a">CreateNest</a> (int a_x, int a_y, int a_polyindex)</td></tr>
<tr class="memdesc:add181bfe760f2450d8834b8fcaf96d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new nest at specified location.  <br /></td></tr>
<tr class="memitem:aa969de84a8a19aa02699d016529778b2" id="r_aa969de84a8a19aa02699d016529778b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa969de84a8a19aa02699d016529778b2">ReleaseOsmiaNest</a> (int a_polyindex, <a class="el" href="classOsmia__Nest.html">Osmia_Nest</a> *a_nest)</td></tr>
<tr class="memdesc:aa969de84a8a19aa02699d016529778b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release (destroy) nest from polygon.  <br /></td></tr>
<tr class="memitem:af48bca28781c43870956c074526ba2be" id="r_af48bca28781c43870956c074526ba2be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af48bca28781c43870956c074526ba2be">GetForageHours</a> ()</td></tr>
<tr class="memdesc:af48bca28781c43870956c074526ba2be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query daily foraging hours available.  <br /></td></tr>
<tr class="memitem:aaad8e681ff0f0b5ac24c50a289701496" id="r_aaad8e681ff0f0b5ac24c50a289701496"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaad8e681ff0f0b5ac24c50a289701496">GetProvisioningParams</a> (int a_age)</td></tr>
<tr class="memdesc:aaad8e681ff0f0b5ac24c50a289701496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get provisioning time parameter for given adult age.  <br /></td></tr>
<tr class="memitem:ae6d5c7749d17a5368548ed28341cef60" id="r_ae6d5c7749d17a5368548ed28341cef60"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6d5c7749d17a5368548ed28341cef60">GetFirstCocoonProvisioningMass</a> (int a_age, int a_massclass)</td></tr>
<tr class="memdesc:ae6d5c7749d17a5368548ed28341cef60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate first female cocoon mass based on female age and mass class.  <br /></td></tr>
<tr class="memitem:a07440f88c0d15804f59f4b3ae165bdf0" id="r_a07440f88c0d15804f59f4b3ae165bdf0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07440f88c0d15804f59f4b3ae165bdf0">GetSexRatioEggsAgeMass</a> (int a_massclass, int a_age)</td></tr>
<tr class="memdesc:a07440f88c0d15804f59f4b3ae165bdf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate sex ratio (proportion female) based on maternal age and mass.  <br /></td></tr>
<tr class="memitem:a10807600ea585ff6e1ebbe2b7e2c3f4a" id="r_a10807600ea585ff6e1ebbe2b7e2c3f4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10807600ea585ff6e1ebbe2b7e2c3f4a">AddToDensityGrid</a> (APoint a_loc)</td></tr>
<tr class="memdesc:a10807600ea585ff6e1ebbe2b7e2c3f4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add female to spatial density grid.  <br /></td></tr>
<tr class="memitem:a402a442145531239fb531ef9ca1a629a" id="r_a402a442145531239fb531ef9ca1a629a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a402a442145531239fb531ef9ca1a629a">AddToDensityGrid</a> (int a_index)</td></tr>
<tr class="memdesc:a402a442145531239fb531ef9ca1a629a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add female to density grid using pre-calculated index.  <br /></td></tr>
<tr class="memitem:ab3d79318d78fd04cabe719353b6b126c" id="r_ab3d79318d78fd04cabe719353b6b126c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3d79318d78fd04cabe719353b6b126c">RemoveFromDensityGrid</a> (int a_index)</td></tr>
<tr class="memdesc:ab3d79318d78fd04cabe719353b6b126c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove female from density grid.  <br /></td></tr>
<tr class="memitem:adbfdb5f5c249152bc427717afaf9edec" id="r_adbfdb5f5c249152bc427717afaf9edec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adbfdb5f5c249152bc427717afaf9edec">GetDensity</a> (APoint a_loc)</td></tr>
<tr class="memdesc:adbfdb5f5c249152bc427717afaf9edec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query female density at location.  <br /></td></tr>
<tr class="memitem:a168aedc66c93d70c844465d5aaceeea6" id="r_a168aedc66c93d70c844465d5aaceeea6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a168aedc66c93d70c844465d5aaceeea6">GetDensity</a> (int a_index)</td></tr>
<tr class="memdesc:a168aedc66c93d70c844465d5aaceeea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query female density by pre-calculated index.  <br /></td></tr>
<tr class="memitem:ab2637e52f81e1a79509f1dc8fa41782f" id="r_ab2637e52f81e1a79509f1dc8fa41782f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2637e52f81e1a79509f1dc8fa41782f">ClearDensityGrid</a> ()</td></tr>
<tr class="memdesc:ab2637e52f81e1a79509f1dc8fa41782f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset density grid to zero.  <br /></td></tr>
<tr class="memitem:a39293145ad4e75b9e49069b9c5107391" id="r_a39293145ad4e75b9e49069b9c5107391"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39293145ad4e75b9e49069b9c5107391">GetPrePupalDevelDays</a> ()</td></tr>
<tr class="memdesc:a39293145ad4e75b9e49069b9c5107391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get today's prepupal development increment.  <br /></td></tr>
<tr class="memitem:a0bd3985c1d7e6eee0f448b3dfab5907c" id="r_a0bd3985c1d7e6eee0f448b3dfab5907c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bd3985c1d7e6eee0f448b3dfab5907c">CalForageHours</a> (void)</td></tr>
<tr class="memdesc:a0bd3985c1d7e6eee0f448b3dfab5907c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate available foraging hours for current day.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-methods" class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a68e046d4715c8d1198dbce6945e70c4e" id="r_a68e046d4715c8d1198dbce6945e70c4e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68e046d4715c8d1198dbce6945e70c4e">DoFirst</a> ()</td></tr>
<tr class="memdesc:a68e046d4715c8d1198dbce6945e70c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-step updates executed before any agents act.  <br /></td></tr>
<tr class="memitem:ac8550e666f983a8659764362e18bdc59" id="r_ac8550e666f983a8659764362e18bdc59"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8550e666f983a8659764362e18bdc59">DoBefore</a> ()</td></tr>
<tr class="memdesc:ac8550e666f983a8659764362e18bdc59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-step updates executed before Step but after DoFirst.  <br /></td></tr>
<tr class="memitem:a71d80f61b23b3326bcd7702337ad1ba5" id="r_a71d80f61b23b3326bcd7702337ad1ba5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71d80f61b23b3326bcd7702337ad1ba5">DoAfter</a> ()</td></tr>
<tr class="memdesc:a71d80f61b23b3326bcd7702337ad1ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post-step updates executed after Step but before DoLast.  <br /></td></tr>
<tr class="memitem:ac26723b9c2f8c9d31d62ef9e6f184185" id="r_ac26723b9c2f8c9d31d62ef9e6f184185"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac26723b9c2f8c9d31d62ef9e6f184185">DoLast</a> ()</td></tr>
<tr class="memdesc:ac26723b9c2f8c9d31d62ef9e6f184185"><td class="mdescLeft">&#160;</td><td class="mdescRight">End-of-day updates executed after all agents finish.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-attribs" class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a78efbc07c6bc9c13174fce2e224811d6" id="r_a78efbc07c6bc9c13174fce2e224811d6"><td class="memItemLeft" align="right" valign="top">PollenMap_centroidbased *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78efbc07c6bc9c13174fce2e224811d6">m_ThePollenMap</a></td></tr>
<tr class="memdesc:a78efbc07c6bc9c13174fce2e224811d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to pollen map object.  <br /></td></tr>
<tr class="memitem:a9726e114711a070e01a55605ca095595" id="r_a9726e114711a070e01a55605ca095595"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9726e114711a070e01a55605ca095595">m_FlyingWeather</a></td></tr>
<tr class="memdesc:a9726e114711a070e01a55605ca095595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Daily foraging hours available (weather-dependent).  <br /></td></tr>
<tr class="memitem:a5139afa64bf5f2ae2434872e36ed68ce" id="r_a5139afa64bf5f2ae2434872e36ed68ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5139afa64bf5f2ae2434872e36ed68ce">m_PreWinteringEndFlag</a></td></tr>
<tr class="memdesc:a5139afa64bf5f2ae2434872e36ed68ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating pre-wintering period has ended.  <br /></td></tr>
<tr class="memitem:a31f070dd120b3b8f827762d769d2ea19" id="r_a31f070dd120b3b8f827762d769d2ea19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31f070dd120b3b8f827762d769d2ea19">m_OverWinterEndFlag</a></td></tr>
<tr class="memdesc:a31f070dd120b3b8f827762d769d2ea19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating overwintering period has ended (March 1st).  <br /></td></tr>
<tr class="memitem:a5ab8984714c174caa5b3845bee304147" id="r_a5ab8984714c174caa5b3845bee304147"><td class="memItemLeft" align="right" valign="top">Osmia_Nest_Manager&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ab8984714c174caa5b3845bee304147">m_OurOsmiaNestManager</a></td></tr>
<tr class="memdesc:a5ab8984714c174caa5b3845bee304147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nest management interface.  <br /></td></tr>
<tr class="memitem:ac88114974ea30377e98b5df7b096f1a4" id="r_ac88114974ea30377e98b5df7b096f1a4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac88114974ea30377e98b5df7b096f1a4">m_NestProvisioningParameters</a> [365]</td></tr>
<tr class="memdesc:ac88114974ea30377e98b5df7b096f1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-calculated provisioning time parameters [days 0-364].  <br /></td></tr>
<tr class="memitem:af825b438eaebaf119a71f5fed5817899" id="r_af825b438eaebaf119a71f5fed5817899"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="Osmia__Population__Manager__dox_8h.html#a3a5f04e7fb3c4a1c1b4b2237fa08d29d">eggsexratiovsagelogisticcurvedata</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af825b438eaebaf119a71f5fed5817899">m_EggSexRatioEqns</a></td></tr>
<tr class="memdesc:af825b438eaebaf119a71f5fed5817899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logistic equations for egg sex ratio vs. age/mass [96 mass classes × 365 ages].  <br /></td></tr>
<tr class="memitem:aa610b5c4a77c7ba4092415df8d9c6959" id="r_aa610b5c4a77c7ba4092415df8d9c6959"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="Osmia__Population__Manager__dox_8h.html#a6798b7258653665705da812a13176dc6">femalecocoonmassvsagelogisticcurvedata</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa610b5c4a77c7ba4092415df8d9c6959">m_FemaleCocoonMassEqns</a></td></tr>
<tr class="memdesc:aa610b5c4a77c7ba4092415df8d9c6959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logistic equations for female cocoon mass vs. maternal age/mass [96 mass classes × 365 ages].  <br /></td></tr>
<tr class="memitem:a041381d941e90e5aaac234b7d73ef1fd" id="r_a041381d941e90e5aaac234b7d73ef1fd"><td class="memItemLeft" align="right" valign="top">vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a041381d941e90e5aaac234b7d73ef1fd">m_FemaleDensityGrid</a></td></tr>
<tr class="memdesc:a041381d941e90e5aaac234b7d73ef1fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Female density grid [1 km² cells].  <br /></td></tr>
<tr class="memitem:a831a63d1f349ea602c1c5c88ebdde7a9" id="r_a831a63d1f349ea602c1c5c88ebdde7a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a831a63d1f349ea602c1c5c88ebdde7a9">m_GridExtent</a></td></tr>
<tr class="memdesc:a831a63d1f349ea602c1c5c88ebdde7a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of grid cells in X direction.  <br /></td></tr>
<tr class="memitem:a14863baeddd12da798e7ed621a2d932b" id="r_a14863baeddd12da798e7ed621a2d932b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14863baeddd12da798e7ed621a2d932b">m_PollenCompetitionsReductionScaler</a></td></tr>
<tr class="memdesc:a14863baeddd12da798e7ed621a2d932b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pollen availability scaling factor for interspecific competition.  <br /></td></tr>
<tr class="memitem:a8dc33bb2117535d08fd02218e5c1f263" id="r_a8dc33bb2117535d08fd02218e5c1f263"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8dc33bb2117535d08fd02218e5c1f263">m_PrePupalDevelRates</a></td></tr>
<tr class="memdesc:a8dc33bb2117535d08fd02218e5c1f263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepupal development rate lookup table.  <br /></td></tr>
<tr class="memitem:ad711ff1a350a4f5f801bfa6640035c45" id="r_ad711ff1a350a4f5f801bfa6640035c45"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad711ff1a350a4f5f801bfa6640035c45">m_PrePupalDevelDaysToday</a></td></tr>
<tr class="memdesc:ad711ff1a350a4f5f801bfa6640035c45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Today's prepupal development rate (pre-calculated).  <br /></td></tr>
<tr class="memitem:ab3336fe0e841e7d626678ad8931b0457" id="r_ab3336fe0e841e7d626678ad8931b0457"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classOsmiaPollenNectarThresholds.html">OsmiaPollenNectarThresholds</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3336fe0e841e7d626678ad8931b0457">m_PN_thresholds</a></td></tr>
<tr class="memdesc:ab3336fe0e841e7d626678ad8931b0457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Monthly pollen and nectar quality/quantity thresholds.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pro-static-attribs" class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ae9ccfc0c028e5fc319c2ee8751f52aa8" id="r_ae9ccfc0c028e5fc319c2ee8751f52aa8"><td class="memItemLeft" align="right" valign="top">static probability_distribution&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9ccfc0c028e5fc319c2ee8751f52aa8">m_exp_ZeroTo1</a> = probability_distribution(&quot;BETA&quot;, &quot;0.75,2.5&quot;)</td></tr>
<tr class="memdesc:ae9ccfc0c028e5fc319c2ee8751f52aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static probability distribution for exponential random variates.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Central coordinator for <em>Osmia bicornis</em> population simulation. </p>
<p><br  />
 </p>
<p>The population manager serves as the central orchestrator for the <em>Osmia</em> simulation, handling initialization, daily scheduling, global parameter management, and spatial data structures. It inherits from the ALMaSS Population_Manager base class, providing <em>Osmia</em>-specific implementations of the standard simulation hooks.</p>
<dl class="section user"><dt>Core Responsibilities</dt><dd></dd></dl>
<p><b>1. Initialization and Configuration</b></p><ul>
<li>Read parameters from configuration files</li>
<li>Initialize lookup tables (provisioning times, sex ratios, cocoon masses)</li>
<li>Set up spatial structures (density grids, nest manager, pollen map)</li>
<li>Create initial population (typically overwintering adults)</li>
</ul>
<p><b>2. Daily Scheduling</b></p><ul>
<li><a class="el" href="#a68e046d4715c8d1198dbce6945e70c4e" title="Pre-step updates executed before any agents act.">DoFirst()</a>: Update global environmental conditions (temperature, weather, phenology flags)</li>
<li><a class="el" href="#ac8550e666f983a8659764362e18bdc59" title="Pre-step updates executed before Step but after DoFirst.">DoBefore()</a>: Pre-step calculations (prepupal development rates, foraging hours)</li>
<li>Step(): Individual agents execute behaviour (inherited, not overridden)</li>
<li><a class="el" href="#a71d80f61b23b3326bcd7702337ad1ba5" title="Post-step updates executed after Step but before DoLast.">DoAfter()</a>: Post-step cleanup (currently unused)</li>
<li><a class="el" href="#ac26723b9c2f8c9d31d62ef9e6f184185" title="End-of-day updates executed after all agents finish.">DoLast()</a>: End-of-day updates (seasonal flag management, statistics)</li>
</ul>
<p><b>3. Spatial Management</b></p><ul>
<li>Maintain female density grid (1 km² resolution for conspecific density tracking)</li>
<li>Coordinate nest manager (polygon-level nest lists, creation/release)</li>
<li>Interface with pollen map (resource availability queries)</li>
</ul>
<p><b>4. Parameter Access</b></p><ul>
<li>Provide lookup tables to individuals (provisioning parameters, sex ratios, etc.)</li>
<li>Store and distribute global parameters (thresholds, mortality rates, development constants)</li>
<li>Manage seasonal flags (pre-wintering end, overwintering end)</li>
</ul>
<dl class="section user"><dt>Relationship to Formal Model</dt><dd>The formal model (Ziółkowska et al. 2025) describes individual-level processes without simulation infrastructure details. This manager adds:<ul>
<li><b>Performance optimizations</b>: Pre-calculated lookup tables avoid repeated evaluations</li>
<li><b>Spatial indexing</b>: Density grid enables efficient local density queries</li>
<li><b>Computational efficiency</b>: Object pooling, parallel execution support</li>
<li><b>Extensibility</b>: Hooks for pesticides, parasitoids, output generation</li>
</ul>
</dd></dl>
<p>These additions maintain biological fidelity whilst enabling practical landscape-scale simulation (10⁴-10⁶ individuals over years).</p>
<dl class="section user"><dt>Critical Design Decisions</dt><dd></dd></dl>
<p><b>Pre-calculated Lookup Tables</b> Age-dependent provisioning times (Seidelmann 2006) and size/age-dependent sex ratios (Seidelmann et al. 2010) involve complex equations. Pre-calculating these during initialization reduces computational cost during simulation when thousands of females query these values daily.</p>
<p><b>Density Grid Resolution</b> 1 km² grid balances spatial detail against memory usage. Finer grids (100 m) would better capture local crowding but increase memory and cache misses. Coarser grids (5 km) save memory but lose ecologically meaningful density variation. 1 km represents observed <em>Osmia</em> movement scales and is computationally tractable.</p>
<p><b>Seasonal Flag Logic</b> Pre-wintering and overwintering end flags control developmental switches (diapause termination, emergence triggering). Determination based on sustained temperature patterns (<a class="el" href="#ac26723b9c2f8c9d31d62ef9e6f184185" title="End-of-day updates executed after all agents finish.">DoLast()</a> logic) rather than fixed dates accommodates inter-annual climate variation and spatial temperature gradients.</p>
<dl class="section see"><dt>See also</dt><dd>Osmia.h for individual agent classes </dd>
<dd>
Osmia_Population_Manager.cpp for implementation details </dd>
<dd>
Ziółkowska et al. (2025) Food and Ecological Systems Modelling Journal </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00939">939</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a047e019acba763f6ddf700c778d74b26" name="a047e019acba763f6ddf700c778d74b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a047e019acba763f6ddf700c778d74b26">&#9670;&#160;</a></span>Osmia_Population_Manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Osmia_Population_Manager::Osmia_Population_Manager </td>
          <td>(</td>
          <td class="paramtype">Landscape *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor initializing population manager. </p>
<p>Constructor initializing Osmia population manager.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_landscape</td><td>Pointer to landscape object</td></tr>
  </table>
  </dd>
</dl>
<p>Comprehensive initialization sequence:</p>
<ol type="1">
<li><b>Call Init()</b>: Read configuration, set up parameters</li>
<li><b>Initialize seasonal flags</b>: Set mid-lifecycle start conditions</li>
<li><b>Identify suitable nesting polygons</b>: Query landscape for nesting habitat</li>
<li><b>Create initial population</b>: Place overwintering adults in suitable locations</li>
<li><b>Set up lookup tables</b>: Pre-calculate provisioning times, sex ratios, cocoon masses</li>
<li><b>Initialize spatial structures</b>: Density grid, nest manager</li>
<li><b>Configure foraging</b>: Set up pollen map interface</li>
</ol>
<dl class="section user"><dt>Initial Population</dt><dd>Typically starts with overwintering adults (InCocoon stage) to match field season start. Numbers and size distribution from configuration (cfg_OsmiaStartNo, mass range). Individuals placed randomly in suitable nesting polygons with accumulated overwintering degree-days (cfg_OsmiaOverwinterDegreeDaysInitialSimu) to create realistic emergence phenology without full-year spin-up.</dd></dl>
<dl class="section user"><dt>Parallel Initialization</dt><dd>Uses OpenMP parallelization for initial population creation (#pragma omp parallel), distributing agent construction across available threads. Thread-safe because each thread creates independent agents in separate memory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Pointer to landscape object</td></tr>
  </table>
  </dd>
</dl>
<p>Comprehensive initialization implementing multi-stage setup:</p>
<p><b>Stage 1: Base Class Initialization</b> Calls Population_Manager(L, 6) constructor:</p><ul>
<li>L: Landscape pointer (provides spatial context, environmental data)</li>
<li>6: Number of life stages (Egg, Larva, Prepupa, Pupa, InCocoon, Female)</li>
</ul>
<p><b>Stage 2: Life Stage Configuration</b> Sets display names for output and tracking:</p><ul>
<li>"Egg": From laying until hatching/feeding initiation</li>
<li>"Larva": Active feeding + cocoon construction</li>
<li>"Prepupa": Summer diapause within cocoon</li>
<li>"Pupa": Metamorphosis to adult form</li>
<li>"In Cocoon": Fully-developed adults (includes overwintering)</li>
<li>"Female": Active reproductive adults</li>
</ul>
<p><b>Stage 3: Parameter Loading (Init())</b> Reads configuration, constructs lookup tables, sets static members</p>
<p><b>Stage 4: Seasonal Flag Setup</b> For mid-lifecycle start (overwintering adults):</p><ul>
<li>m_PreWinteringEndFlag = true (past autumn transition)</li>
<li>m_OverWinterEndFlag = false (still winter, pre-March)</li>
</ul>
<p>Allows realistic emergence timing without full-year spin-up</p>
<p><b>Stage 5: Suitable Habitat Identification</b> Queries landscape for nesting polygons:</p><ol type="1">
<li>Update nest manager's polygon data</li>
<li>Iterate all polygons, test <a class="el" href="#a64e4f851baf4664844d2410f54481db3" title="Check if polygon suitable for Osmia nesting.">IsOsmiaNestPossible()</a></li>
<li>Build list of suitable polygon indices</li>
</ol>
<p>Creates spatial template for population placement</p>
<p><b>Stage 6: Initial Population Creation (Parallel)</b> Uses OpenMP parallelization for efficiency:</p>
<div class="fragment"><div class="line">threads = omp_get_max_threads()</div>
<div class="line">individuals_per_thread = total / threads</div>
<div class="line"><span class="preprocessor">#pragma omp parallel</span></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (i in 1:individuals_per_thread) {</div>
<div class="line">        create <a class="code hl_class" href="classstruct__Osmia.html">struct_Osmia</a></div>
<div class="line">        randomly select suitable polygon</div>
<div class="line">        randomly assign mass (uniform in range)</div>
<div class="line">        set unparasitised, female, with nest</div>
<div class="line">        set initial overwintering progress</div>
<div class="line">        create InCocoon individual</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassstruct__Osmia_html"><div class="ttname"><a href="classstruct__Osmia.html">struct_Osmia</a></div><div class="ttdoc">Initialization data package for creating new Osmia agents.</div><div class="ttdef"><b>Definition</b> <a href="Osmia__Population__Manager__dox_8h_source.html#l00590">Osmia_Population_Manager_dox.h:591</a></div></div>
</div><!-- fragment --><dl class="section user"><dt>Population Initialization Details</dt><dd></dd></dl>
<p><b>Mass Assignment</b>: Mass drawn from uniform(cfg_OsmiaFemaleMassMin, cfg_OsmiaFemaleMassMax)</p><ul>
<li>Converts to internal mass class index: (mass - 4.0) / 0.25</li>
<li>Full range creates realistic size distribution</li>
<li>Affects fecundity, sex ratios, survival (size-dependent fitness)</li>
</ul>
<p><b>Spatial Placement</b>: Random polygon from suitable_polygons list</p><ul>
<li>Within-polygon: random point via SupplyARandomLocPoly()</li>
<li>Nest created at that location</li>
<li>Spatially heterogeneous (clustered in good habitat)</li>
</ul>
<p><b>Overwintering State</b>: Initial progress = cfg_OsmiaOverwinterDegreeDaysInitialSimu (default 320 DD)</p><ul>
<li>Represents mid/late overwintering (~64-80% complete)</li>
<li>Ensures realistic spring emergence without multi-year spin-up</li>
<li>All individuals set to 2000 DD age (arbitrary high value for correct state)</li>
</ul>
<dl class="section user"><dt>Thread Safety</dt><dd>Parallel creation safe because:<ul>
<li>Each thread creates independent <a class="el" href="classstruct__Osmia.html" title="Initialization data package for creating new Osmia agents.">struct_Osmia</a></li>
<li><a class="el" href="#add181bfe760f2450d8834b8fcaf96d3a" title="Create new nest at specified location.">CreateNest()</a> uses polygon locks preventing race conditions</li>
<li>Object pools thread-local or synchronized</li>
<li>No shared state modification within parallel region</li>
</ul>
</dd></dl>
<p><b>Stage 7: Post-Creation Setup</b></p><ul>
<li>Set all InCocoon individuals to age 2000 DD (ensures correct state transitions)</li>
<li>Cache competition scaler for fast access (avoid repeated config lookups)</li>
<li>Populate prepupal development rate lookup table (42 temperatures)</li>
<li>Enable parallel execution flag (m_is_paralleled = true)</li>
<li>Initialize pesticide output files (if __OSMIA_PESTICIDE_STORE defined)</li>
</ul>
<dl class="section user"><dt>Biological Validity</dt><dd>Starting population represents realistic overwinter cohort:<ul>
<li>Size distribution matching field observations</li>
<li>Spatial distribution clustered in suitable habitat</li>
<li>Physiological state (partial overwintering) allows emergence synchrony</li>
<li>No males (not modelled explicitly; implicit in sex ratio/mating assumptions)</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Performance Optimization</dt><dd>Parallel initialization scales with available cores:<ul>
<li>4 cores: ~4× faster initialization</li>
<li>16 cores: ~10-12× faster (diminishing returns from overhead)</li>
</ul>
</dd></dl>
<p>Critical for large populations (100,000+ individuals) where serial initialization becomes bottleneck.</p>
<dl class="section user"><dt>Difference from Formal Model</dt><dd>Formal model describes individual-level processes, not initialization. Constructor implements practical simulation requirements:<ul>
<li>Spatial placement algorithm (not specified in formal model)</li>
<li>Parallel computation infrastructure (implementation detail)</li>
<li>Mid-lifecycle start capability (convenience for multi-year simulations)</li>
</ul>
</dd></dl>
<p>Core biology (size distributions, physiological states) matches formal model precisely. </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">1532</a> of file <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html">Osmia_Population_Manager_dox.cpp</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8cpp.html#a23f7c59b353b1b840451e8f267b18ef8">cfg_OsmiaDensityDependentPollenRemovalConst()</a>, <a class="el" href="Osmia__Population__Manager__dox_8cpp.html#adfeca7146ad2aff7082f233aaa67b7d7">cfg_OsmiaFemaleMassMax</a>, <a class="el" href="Osmia__Population__Manager__dox_8cpp.html#ab5754a23fc4b059e99c3fd412c4f744c">cfg_OsmiaFemaleMassMin</a>, <a class="el" href="Osmia__Population__Manager__dox_8cpp.html#a5a914edec9a4029ee668603263ac69f4">cfg_OsmiaOverwinterDegreeDaysInitialSimu()</a>, <a class="el" href="Osmia__Population__Manager__dox_8cpp.html#a18c10d18f0bdc45ef48454da194aa6eb">cfg_OsmiaPrepupalDevelRates()</a>, <a class="el" href="Osmia__Population__Manager__dox_8cpp.html#a95e8b7c7685b979f86398d45583dd003">cfg_OsmiaStartNo()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01026">CreateNest()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00995">IsOsmiaNestPossible()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00638">struct_Osmia::L</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01500">m_OurOsmiaNestManager</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01484">m_OverWinterEndFlag</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01595">m_PollenCompetitionsReductionScaler</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01605">m_PrePupalDevelRates</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01464">m_PreWinteringEndFlag</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00689">struct_Osmia::mass</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00659">struct_Osmia::nest</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00648">struct_Osmia::OPM</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00722">struct_Osmia::overwintering_degree_days</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00670">struct_Osmia::parasitised</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00629">struct_Osmia::sex</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00118">to_OsmiaInCocoon</a>, <a class="el" href="Osmia__enh__HeaderWithBase_8h_source.html#l00218">topara_Unparasitised</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00598">struct_Osmia::x</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00603">struct_Osmia::y</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOsmia__Population__Manager_a047e019acba763f6ddf700c778d74b26_cgraph.png" border="0" usemap="#aclassOsmia__Population__Manager_a047e019acba763f6ddf700c778d74b26_cgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="aacea74e3153907c28eba9f6fc4645355" name="aacea74e3153907c28eba9f6fc4645355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacea74e3153907c28eba9f6fc4645355">&#9670;&#160;</a></span>~Osmia_Population_Manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Osmia_Population_Manager::~Osmia_Population_Manager </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor cleaning up population manager resources. </p>
<p>Deletes nest manager, clears spatial structures, closes output files. Individual agents handled by base Population_Manager destructor.</p>
<p>Cleanup sequence:</p><ol type="1">
<li>Testing output (if __OSMIATESTING defined):<ul>
<li>Delete OpenMP lock for thread-safe female weight recording</li>
<li>Close egg data output file</li>
<li>Write final egg distribution histogram</li>
</ul>
</li>
<li>Base class destructor handles individual agent cleanup</li>
</ol>
<dl class="section user"><dt>Testing Output</dt><dd>When compiled with __OSMIATESTING, destructor writes EggsDistributions.txt containing histogram of eggs laid by female size/age classes. Used for validation against empirical fecundity distributions.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>OpenMP lock (m_female_weight_record_lock) must be deleted after all threads complete. Destructor called only after simulation finished, ensuring safety. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01395">1395</a> of file <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html">Osmia_Population_Manager_dox.cpp</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a10807600ea585ff6e1ebbe2b7e2c3f4a" name="a10807600ea585ff6e1ebbe2b7e2c3f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10807600ea585ff6e1ebbe2b7e2c3f4a">&#9670;&#160;</a></span>AddToDensityGrid() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Osmia_Population_Manager::AddToDensityGrid </td>
          <td>(</td>
          <td class="paramtype">APoint</td>          <td class="paramname"><span class="paramname"><em>a_loc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add female to spatial density grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_loc</td><td>Female's current location </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Grid cell index where female was added</dd></dl>
<p>Converts metric coordinates to grid coordinates (÷1000 m per cell), calculates linear index (x + y×grid_width), increments counter for that cell.</p>
<dl class="section user"><dt>Density Grid Purpose</dt><dd>Tracks local female density at 1 km² resolution to enable:<ul>
<li><b>Density-dependent behaviour</b>: Females may avoid crowded areas when dispersing</li>
<li><b>Competition effects</b>: High local density could reduce per-capita foraging success</li>
<li><b>Output/analysis</b>: Spatial distribution of reproductive effort</li>
</ul>
</dd></dl>
<p>Currently used primarily for tracking rather than feedback (density doesn't strongly affect behaviour in base model), but infrastructure supports future density-dependent extensions.</p>
<dl class="section user"><dt>When Called</dt><dd><ul>
<li>Female emergence (add to emergence location grid cell)</li>
<li>Female dispersal (remove from old cell, add to new cell)</li>
<li>Female death (remove from last known cell)</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ab3d79318d78fd04cabe719353b6b126c" title="Remove female from density grid.">RemoveFromDensityGrid()</a> for removal </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01234">1234</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01563">m_FemaleDensityGrid</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01570">m_GridExtent</a>.</p>

</div>
</div>
<a id="a402a442145531239fb531ef9ca1a629a" name="a402a442145531239fb531ef9ca1a629a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a402a442145531239fb531ef9ca1a629a">&#9670;&#160;</a></span>AddToDensityGrid() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Osmia_Population_Manager::AddToDensityGrid </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add female to density grid using pre-calculated index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_index</td><td>Grid cell index</td></tr>
  </table>
  </dd>
</dl>
<p>Faster version when caller already calculated index (avoids coordinate conversion). Used during dispersal when female moves between adjacent cells (caller knows both old and new indices). </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01248">1248</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01563">m_FemaleDensityGrid</a>.</p>

</div>
</div>
<a id="a0bd3985c1d7e6eee0f448b3dfab5907c" name="a0bd3985c1d7e6eee0f448b3dfab5907c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd3985c1d7e6eee0f448b3dfab5907c">&#9670;&#160;</a></span>CalForageHours()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Osmia_Population_Manager::CalForageHours </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate available foraging hours for current day. </p>
<p>Integrates hourly weather data with flight threshold criteria:</p><ul>
<li>Temperature &gt; cfg_OsmiaFlightTemperatureThreshold</li>
<li>Wind speed &lt; cfg_OsmiaFlightWindSpeedThreshold <br  />
</li>
<li>Precipitation = 0 (or &lt; threshold if light rain permitted)</li>
<li>Daylight hours (implicitly: weather station only reports daylight periods)</li>
</ul>
<p>Counts hours meeting ALL criteria, stores in m_FlyingWeather for today.</p>
<dl class="section user"><dt>Implementation Note</dt><dd>Called during <a class="el" href="#ac8550e666f983a8659764362e18bdc59" title="Pre-step updates executed before Step but after DoFirst.">DoBefore()</a> each morning before individual agents execute Step(). All females share same foraging hour value because weather operates at landscape scale (any spatial variation in weather handled by landscape weather interpolation).</dd></dl>
<dl class="section user"><dt>Biological Constraints</dt><dd>Bees are ectothermic: flight muscles require minimum temperature. Wind physically prevents controlled flight at small body size. Wet conditions reduce flight efficiency and potentially increase wing damage. These constraints create realistic temporal variation in reproductive rate even with abundant floral resources.</dd></dl>
<dl class="section user"><dt>Sensitivity</dt><dd>Foraging hour calculation is CRITICAL parameter affecting population dynamics. Small changes in thresholds (e.g., 1°C difference in flight temperature) accumulate across season, substantially affecting population growth rate. Careful calibration against observed bee activity patterns essential. </dd></dl>

</div>
</div>
<a id="ab2637e52f81e1a79509f1dc8fa41782f" name="ab2637e52f81e1a79509f1dc8fa41782f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2637e52f81e1a79509f1dc8fa41782f">&#9670;&#160;</a></span>ClearDensityGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Osmia_Population_Manager::ClearDensityGrid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset density grid to zero. </p>
<p>Sets all grid cells to 0. Called during initialization or when restarting population tracking. In normal simulation, not needed because grid maintained incrementally through Add/Remove calls. </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01299">1299</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01563">m_FemaleDensityGrid</a>.</p>

</div>
</div>
<a id="add181bfe760f2450d8834b8fcaf96d3a" name="add181bfe760f2450d8834b8fcaf96d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add181bfe760f2450d8834b8fcaf96d3a">&#9670;&#160;</a></span>CreateNest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOsmia__Nest.html">Osmia_Nest</a> * Osmia_Population_Manager::CreateNest </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_polyindex</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create new nest at specified location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_x</td><td>Landscape X-coordinate (meters) </td></tr>
    <tr><td class="paramname">a_y</td><td>Landscape Y-coordinate (meters) </td></tr>
    <tr><td class="paramname">a_polyindex</td><td>Polygon containing nest location </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to newly created nest</dd></dl>
<p>Thread-safe nest creation sequence:</p><ol type="1">
<li>Acquire polygon lock (prevent concurrent modification)</li>
<li>Create nest via nest manager</li>
<li>Add nest to polygon's nest list</li>
<li>Increment polygon nest counter</li>
<li>Release polygon lock</li>
</ol>
<dl class="section user"><dt>Locking Rationale</dt><dd>In parallel simulation, multiple females might simultaneously attempt to create nests in same polygon. Lock prevents race conditions (counter corruption, list inconsistency). Granularity at polygon level (rather than global lock) allows concurrent nesting in different polygons.</dd></dl>
<dl class="section user"><dt>Biological Context</dt><dd>Called by <a class="el" href="classOsmia__Female.html" title="Active adult female conducting reproduction.">Osmia_Female</a> during nest-finding behaviour when suitable cavity found. Females search sequentially through nearby nesting habitat, attempting nest creation until successful or giving up (triggering dispersal).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa969de84a8a19aa02699d016529778b2" title="Release (destroy) nest from polygon.">ReleaseOsmiaNest()</a> for nest destruction </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01026">1026</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01500">m_OurOsmiaNestManager</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">Osmia_Population_Manager()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOsmia__Population__Manager_add181bfe760f2450d8834b8fcaf96d3a_icgraph.png" border="0" usemap="#aclassOsmia__Population__Manager_add181bfe760f2450d8834b8fcaf96d3a_icgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="a71d80f61b23b3326bcd7702337ad1ba5" name="a71d80f61b23b3326bcd7702337ad1ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d80f61b23b3326bcd7702337ad1ba5">&#9670;&#160;</a></span>DoAfter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Osmia_Population_Manager::DoAfter </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Post-step updates executed after Step but before DoLast. </p>
<p>Currently unused in <em>Osmia</em> model (empty override). Provided for consistency with ALMaSS framework and potential future extensions requiring immediate post-step processing.</p>
<p>Virtual method overriding Population_Manager::DoAfter(). </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01667">1667</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

</div>
</div>
<a id="ac8550e666f983a8659764362e18bdc59" name="ac8550e666f983a8659764362e18bdc59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8550e666f983a8659764362e18bdc59">&#9670;&#160;</a></span>DoBefore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Osmia_Population_Manager::DoBefore </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre-step updates executed before Step but after DoFirst. </p>
<p>Currently performs additional setup requiring <a class="el" href="#a68e046d4715c8d1198dbce6945e70c4e" title="Pre-step updates executed before any agents act.">DoFirst()</a> completion. Less commonly used than <a class="el" href="#a68e046d4715c8d1198dbce6945e70c4e" title="Pre-step updates executed before any agents act.">DoFirst()</a> in <em>Osmia</em> model; most setup concentrated in <a class="el" href="#a68e046d4715c8d1198dbce6945e70c4e" title="Pre-step updates executed before any agents act.">DoFirst()</a>.</p>
<p>Virtual method overriding Population_Manager::DoBefore(). Called by ALMaSS scheduler after <a class="el" href="#a68e046d4715c8d1198dbce6945e70c4e" title="Pre-step updates executed before any agents act.">DoFirst()</a> but before individual agents execute Step(). </p>

</div>
</div>
<a id="a68e046d4715c8d1198dbce6945e70c4e" name="a68e046d4715c8d1198dbce6945e70c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68e046d4715c8d1198dbce6945e70c4e">&#9670;&#160;</a></span>DoFirst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Osmia_Population_Manager::DoFirst </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre-step updates executed before any agents act. </p>
<p>Daily setup sequence:</p><ol type="1">
<li>Update seasonal flags (check for pre-wintering/overwintering transitions)</li>
<li>Calculate foraging hours: <a class="el" href="#a0bd3985c1d7e6eee0f448b3dfab5907c" title="Calculate available foraging hours for current day.">CalForageHours()</a></li>
<li>Calculate prepupal development rates from temperature</li>
<li>Update pollen map (if dynamic resource model active)</li>
<li>Any other global state requiring daily refresh</li>
</ol>
<p>Virtual method overriding Population_Manager::DoFirst(). Called by ALMaSS scheduler before individual agents execute BeginStep(). </p>

</div>
</div>
<a id="ac26723b9c2f8c9d31d62ef9e6f184185" name="ac26723b9c2f8c9d31d62ef9e6f184185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26723b9c2f8c9d31d62ef9e6f184185">&#9670;&#160;</a></span>DoLast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Osmia_Population_Manager::DoLast </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>End-of-day updates executed after all agents finish. </p>
<p>Critical seasonal logic and statistics:</p>
<p><b>Seasonal Flag Management</b>:</p><ul>
<li>Check for pre-wintering end (sustained autumn temperature drop)</li>
<li>Set overwintering end flag (March 1st)</li>
<li>Reset flags after emergence season (June)</li>
</ul>
<p><b>Testing Output</b> (if __OSMIATESTING defined):</p><ul>
<li>Record stage length statistics</li>
<li>Write annual summaries</li>
<li>Clear accumulators for next year</li>
</ul>
<p>Virtual method overriding Population_Manager::DoLast(). Called by ALMaSS scheduler after all individual agents complete Step() and cleanup.</p>
<dl class="section user"><dt>Pre-wintering End Detection Logic</dt><dd>Sustained temperature drop identified by:<ul>
<li>Three consecutive days &lt; 13°C (day-2, day-1, day-0 all below threshold)</li>
<li>AND either: sharp sustained drop (days -5→-4 and -4→-3 both increase &gt;1°C)</li>
<li>OR: extended cold period (day-3 also &lt;13°C) with moderate drop (days -5→-4 increase ≥3°C)</li>
</ul>
</dd></dl>
<p>This complex logic avoids false triggers from brief cold snaps whilst reliably detecting true autumn transition. Thresholds empirically calibrated for European temperate climate.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5139afa64bf5f2ae2434872e36ed68ce" title="Flag indicating pre-wintering period has ended.">m_PreWinteringEndFlag</a>, <a class="el" href="#a31f070dd120b3b8f827762d769d2ea19" title="Flag indicating overwintering period has ended (March 1st).">m_OverWinterEndFlag</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01699">1699</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01484">m_OverWinterEndFlag</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01464">m_PreWinteringEndFlag</a>.</p>

</div>
</div>
<a id="adbfdb5f5c249152bc427717afaf9edec" name="adbfdb5f5c249152bc427717afaf9edec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbfdb5f5c249152bc427717afaf9edec">&#9670;&#160;</a></span>GetDensity() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Osmia_Population_Manager::GetDensity </td>
          <td>(</td>
          <td class="paramtype">APoint</td>          <td class="paramname"><span class="paramname"><em>a_loc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query female density at location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_loc</td><td>Coordinates to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of females in that 1 km² grid cell</dd></dl>
<p>Converts coordinates to grid index, returns counter value. </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01276">1276</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01563">m_FemaleDensityGrid</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01570">m_GridExtent</a>.</p>

</div>
</div>
<a id="a168aedc66c93d70c844465d5aaceeea6" name="a168aedc66c93d70c844465d5aaceeea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a168aedc66c93d70c844465d5aaceeea6">&#9670;&#160;</a></span>GetDensity() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Osmia_Population_Manager::GetDensity </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query female density by pre-calculated index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_index</td><td>Grid cell index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of females in that cell</dd></dl>
<p>Faster version when caller already has index. </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01288">1288</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01563">m_FemaleDensityGrid</a>.</p>

</div>
</div>
<a id="ae6d5c7749d17a5368548ed28341cef60" name="ae6d5c7749d17a5368548ed28341cef60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d5c7749d17a5368548ed28341cef60">&#9670;&#160;</a></span>GetFirstCocoonProvisioningMass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Osmia_Population_Manager::GetFirstCocoonProvisioningMass </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_age</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_massclass</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate first female cocoon mass based on female age and mass class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_age</td><td>Maternal age (days since emergence) </td></tr>
    <tr><td class="paramname">a_massclass</td><td>Maternal mass class index (0-95, representing 4-28 mg range) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Target provision mass for first female cell (mg)</dd></dl>
<p>Returns value from m_FemaleCocoonMassEqns lookup table with stochastic variation (±60% of mean, exponentially distributed). Implements declining investment pattern: first female offspring receives maximum resources, subsequent females receive less due to maternal resource depletion.</p>
<dl class="section user"><dt>Biological Basis</dt><dd>Seidelmann et al. (2010) documented that female <em>Osmia</em> provision first female cells more heavily than later cells. This reflects:<ul>
<li><b>Quality-quantity trade-off</b>: Better to produce few high-quality offspring than many low-quality offspring when resources limited</li>
<li><b>Maternal condition decline</b>: Foraging efficiency and resource accumulation rates decline with maternal age and mass loss</li>
<li><b>Bet-hedging</b>: First offspring have highest survival probability, so invest heavily; later offspring are "bonus" if conditions remain favourable</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Equation Structure</dt><dd>Base calculation (lookup table): Logistic function of maternal age and mass<ul>
<li>Younger, heavier mothers → larger first female mass</li>
<li>Older, lighter mothers → smaller first female mass</li>
</ul>
</dd></dl>
<p>Stochastic variation: ±60% exponentially distributed around mean</p><ul>
<li>Represents variation in local resource availability</li>
<li>Prevents unrealistic determinism in offspring size distributions</li>
<li>Calibrated from field data showing substantial within-female variation</li>
</ul>
<dl class="section user"><dt>Difference from Formal Model</dt><dd><b>EXACT MATCH</b> - Implements Seidelmann et al. (2010) provisioning equations as specified in formal model. Lookup table calculation and stochastic variation both match formal model description precisely. Pre-calculation is performance optimization.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a07440f88c0d15804f59f4b3ae165bdf0" title="Calculate sex ratio (proportion female) based on maternal age and mass.">GetSexRatioEggsAgeMass()</a> for corresponding sex ratio calculation </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01161">1161</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01401">m_exp_ZeroTo1</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01550">m_FemaleCocoonMassEqns</a>.</p>

</div>
</div>
<a id="af48bca28781c43870956c074526ba2be" name="af48bca28781c43870956c074526ba2be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af48bca28781c43870956c074526ba2be">&#9670;&#160;</a></span>GetForageHours()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Osmia_Population_Manager::GetForageHours </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query daily foraging hours available. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of hours suitable for <em>Osmia</em> flight today</dd></dl>
<p>Returns m_FlyingWeather calculated by <a class="el" href="#a0bd3985c1d7e6eee0f448b3dfab5907c" title="Calculate available foraging hours for current day.">CalForageHours()</a> each day.</p>
<dl class="section user"><dt>Weather Constraints</dt><dd><em>Osmia bicornis</em> females require specific weather conditions for foraging:<ul>
<li>Temperature &gt; ~10°C (flight muscle activity threshold)</li>
<li>Low wind speed (&lt; 5-6 m/s; higher winds prevent controlled flight)</li>
<li>No precipitation (wet wings reduce flight efficiency)</li>
<li>Sufficient light (active during daylight; peak mid-morning to mid-afternoon)</li>
</ul>
</dd></dl>
<p><a class="el" href="#a0bd3985c1d7e6eee0f448b3dfab5907c" title="Calculate available foraging hours for current day.">CalForageHours()</a> integrates hourly weather data with these thresholds, counting hours meeting all criteria. On favourable days, might be 8-10 hours; on poor days, zero hours (females remain in nest).</p>
<dl class="section user"><dt>Biological Consequences</dt><dd>Foraging hour limitation is critical constraint on provisioning rate and ultimately reproductive success. Extended periods of poor weather can:<ul>
<li>Delay nest completion (cells remain open longer → higher parasitism)</li>
<li>Reduce lifetime fecundity (time wasted waiting for good weather)</li>
<li>Increase mortality (longer exposure to predators, senescence)</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Data Requirements</dt><dd>Requires hourly weather data (temperature, wind, precipitation, radiation). Often derived from meteorological station data interpolated across landscape. Accuracy critical because small differences in foraging hour estimates accumulate over female lifetimes, substantially affecting population dynamics. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01091">1091</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01444">m_FlyingWeather</a>.</p>

</div>
</div>
<a id="a39293145ad4e75b9e49069b9c5107391" name="a39293145ad4e75b9e49069b9c5107391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39293145ad4e75b9e49069b9c5107391">&#9670;&#160;</a></span>GetPrePupalDevelDays()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Osmia_Population_Manager::GetPrePupalDevelDays </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get today's prepupal development increment. </p>
<dl class="section return"><dt>Returns</dt><dd>Development units accumulated today (days-equivalent)</dd></dl>
<p>Returns m_PrePupalDevelDaysToday calculated by <a class="el" href="#ac8550e666f983a8659764362e18bdc59" title="Pre-step updates executed before Step but after DoFirst.">DoBefore()</a> each morning based on today's temperature forecast.</p>
<dl class="section user"><dt>Prepupal Development Model</dt><dd>Unlike other stages using degree-day accumulation, prepupal stage uses time-based development with temperature-dependent rates. This reflects biology: prepupa is summer diapause stage where development nearly arrested, with slow progression toward pupal stage independent of heat accumulation.</dd></dl>
<dl class="section user"><dt>Difference from Formal Model</dt><dd><b>MAJOR CALIBRATION</b> - Formal model specifies quadratic temperature-development relationship for prepupal stage (Radmacher and Strohm 2011). Implementation uses simpler time-based approach: fixed duration ~45 days, weakly temperature-dependent.</dd></dl>
<p><b>Rationale</b>: Quadratic model produced unrealistic prepupal durations under field conditions (laboratory parameterization didn't extrapolate well). Time-based model empirically calibrated to match field emergence phenology whilst acknowledging uncertainty in prepupal temperature response.</p>
<p><b>Uncertainty</b>: HIGH - Prepupal stage poorly studied under field-realistic temperature regimes. Current implementation prioritizes phenological realism over mechanistic detail.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classOsmia__Prepupa.html#a42264a39b4d4ba54b18a473dab357e94" title="Main step function.">Osmia_Prepupa::Step()</a> for usage in development </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01331">1331</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01612">m_PrePupalDevelDaysToday</a>.</p>

</div>
</div>
<a id="aaad8e681ff0f0b5ac24c50a289701496" name="aaad8e681ff0f0b5ac24c50a289701496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad8e681ff0f0b5ac24c50a289701496">&#9670;&#160;</a></span>GetProvisioningParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Osmia_Population_Manager::GetProvisioningParams </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_age</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get provisioning time parameter for given adult age. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_age</td><td>Days since emergence </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Hours required to provision one complete cell</dd></dl>
<p>Returns pre-calculated value from m_NestProvisioningParameters lookup table. Values derived from Seidelmann (2006) efficiency equation:</p><ul>
<li>Efficiency = 21.643 / (1 + exp((ln(age) - ln(18.888)) × 3.571)) mg/h</li>
<li>Construction time = (2.576 × efficiency + 56.17) / efficiency hours</li>
</ul>
<dl class="section user"><dt>Age Effect on Provisioning</dt><dd>Younger females (&lt;15 days) less efficient, requiring more hours per cell. Peak efficiency around day 18-20. Older females (&gt;40 days) declining efficiency due to senescence. This age structure creates temporal variation in population-level provisioning rates even with constant weather.</dd></dl>
<dl class="section user"><dt>Difference from Formal Model</dt><dd><b>EXACT MATCH</b> - Implements Seidelmann (2006) equations precisely as specified in formal model (Ziółkowska et al. 2025, Provisioning section). Pre-calculation is performance optimization, not biological modification.</dd></dl>
<dl class="section user"><dt>Implementation Note</dt><dd>Lookup table populated during Init() for ages 0-364 days. Bees rarely survive beyond 60 days, so upper range provides safety margin without significant memory cost (365 × 8 bytes = ~3 KB per population manager). </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01119">1119</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01519">m_NestProvisioningParameters</a>.</p>

</div>
</div>
<a id="a07440f88c0d15804f59f4b3ae165bdf0" name="a07440f88c0d15804f59f4b3ae165bdf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07440f88c0d15804f59f4b3ae165bdf0">&#9670;&#160;</a></span>GetSexRatioEggsAgeMass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Osmia_Population_Manager::GetSexRatioEggsAgeMass </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_massclass</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_age</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate sex ratio (proportion female) based on maternal age and mass. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_massclass</td><td>Maternal mass class index (0-95) </td></tr>
    <tr><td class="paramname">a_age</td><td>Maternal age (days since emergence) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Probability of laying female egg (0.0-1.0)</dd></dl>
<p>Returns pre-calculated value from m_EggSexRatioEqns lookup table. Values derived from logistic equations fitted to Seidelmann et al. (2010) data showing age- and mass-dependent sex allocation.</p>
<dl class="section user"><dt>Biological Basis</dt><dd>Sex ratio patterns reflect:<ul>
<li><b>Local mate competition</b> theory: Female-biased sex ratios reduce competition amongst sons, increasing fitness returns per male offspring</li>
<li><b>Resource constraints</b>: Female offspring more expensive (larger provisions), so mothers in poor condition produce more males</li>
<li><b>Maternal condition effects</b>: Heavier, younger mothers produce more females</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Pattern Across Age and Mass</dt><dd><ul>
<li>Young, heavy mothers: ~65-75% female (optimal conditions, high female production)</li>
<li>Old mothers: ~40-50% female (resource depletion, shift toward cheaper males)</li>
<li>Light mothers: ~50-60% female (always somewhat constrained)</li>
</ul>
</dd></dl>
<p>These patterns emerge from logistic functions parameterized from Seidelmann's observational data on provision mass distributions and sex ratios.</p>
<dl class="section user"><dt>Difference from Formal Model</dt><dd><b>EXACT MATCH</b> - Implements sex ratio equations specified in formal model, derived from Seidelmann et al. (2010). Lookup table approach matches formal model's logistic equations; pre-calculation is performance optimization.</dd></dl>
<dl class="section user"><dt>Implementation Note</dt><dd>Used during egg-laying sequence: female queries sex ratio for her current age/mass, compares to random draw (0-1), lays female egg if random value &lt; sex ratio probability. This stochastic implementation creates realistic variation whilst maintaining expected sex ratio matching empirical data.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ae6d5c7749d17a5368548ed28341cef60" title="Calculate first female cocoon mass based on female age and mass class.">GetFirstCocoonProvisioningMass()</a> for corresponding provision mass calculation </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01205">1205</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01538">m_EggSexRatioEqns</a>.</p>

</div>
</div>
<a id="a64e4f851baf4664844d2410f54481db3" name="a64e4f851baf4664844d2410f54481db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e4f851baf4664844d2410f54481db3">&#9670;&#160;</a></span>IsOsmiaNestPossible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Osmia_Population_Manager::IsOsmiaNestPossible </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_polyindex</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if polygon suitable for <em>Osmia</em> nesting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_polyindex</td><td>Landscape polygon index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if nesting possible in this polygon</dd></dl>
<p>Queries landscape polygon properties:</p><ul>
<li>Habitat type classification</li>
<li>Nesting suitability parameter (if present)</li>
<li>Management state (e.g., recently mown grassland unsuitable)</li>
</ul>
<p>Used during initialization to identify where to place starting population, and during simulation when females search for new nest sites.</p>
<dl class="section user"><dt>Implementation Note</dt><dd>Delegates to nest manager which maintains polygon-level nesting data. This indirection allows flexible nesting suitability criteria without modifying core population manager code. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00995">995</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01500">m_OurOsmiaNestManager</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">Osmia_Population_Manager()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOsmia__Population__Manager_a64e4f851baf4664844d2410f54481db3_icgraph.png" border="0" usemap="#aclassOsmia__Population__Manager_a64e4f851baf4664844d2410f54481db3_icgraph" loading="lazy" alt=""/></div>
</div>

</div>
</div>
<a id="aa969de84a8a19aa02699d016529778b2" name="aa969de84a8a19aa02699d016529778b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa969de84a8a19aa02699d016529778b2">&#9670;&#160;</a></span>ReleaseOsmiaNest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Osmia_Population_Manager::ReleaseOsmiaNest </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_polyindex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOsmia__Nest.html">Osmia_Nest</a> *</td>          <td class="paramname"><span class="paramname"><em>a_nest</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release (destroy) nest from polygon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_polyindex</td><td>Polygon containing nest </td></tr>
    <tr><td class="paramname">a_nest</td><td>Pointer to nest being released</td></tr>
  </table>
  </dd>
</dl>
<p>Thread-safe nest destruction:</p><ol type="1">
<li>Acquire polygon lock</li>
<li>Remove nest from polygon's nest list</li>
<li>Decrement polygon nest counter</li>
<li>Delete nest object or return to pool</li>
<li>Release polygon lock</li>
</ol>
<dl class="section user"><dt>When Called</dt><dd><ul>
<li>Female abandons nest (before completing provisioning)</li>
<li>All offspring emerged or died (nest now empty)</li>
<li>Female dies whilst actively provisioning nest</li>
</ul>
</dd></dl>
<p>Nest destruction frees nesting capacity in polygon, allowing future nest creation.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#add181bfe760f2450d8834b8fcaf96d3a" title="Create new nest at specified location.">CreateNest()</a> for nest creation </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01055">1055</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01500">m_OurOsmiaNestManager</a>.</p>

</div>
</div>
<a id="ab3d79318d78fd04cabe719353b6b126c" name="ab3d79318d78fd04cabe719353b6b126c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d79318d78fd04cabe719353b6b126c">&#9670;&#160;</a></span>RemoveFromDensityGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Osmia_Population_Manager::RemoveFromDensityGrid </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove female from density grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_index</td><td>Grid cell index</td></tr>
  </table>
  </dd>
</dl>
<p>Decrements counter for specified cell. Called when female dies or moves to different cell.</p>
<dl class="section user"><dt>Thread Safety</dt><dd>Increment/decrement operations not atomic, so concurrent access by multiple females could create race conditions. Current implementation assumes serial execution or careful parallelization (females partitioned to avoid conflicts). Future parallel implementations might need atomic operations or per-thread grids. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01265">1265</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">References <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01563">m_FemaleDensityGrid</a>.</p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="af825b438eaebaf119a71f5fed5817899" name="af825b438eaebaf119a71f5fed5817899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af825b438eaebaf119a71f5fed5817899">&#9670;&#160;</a></span>m_EggSexRatioEqns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="Osmia__Population__Manager__dox_8h.html#a3a5f04e7fb3c4a1c1b4b2237fa08d29d">eggsexratiovsagelogisticcurvedata</a>&gt; Osmia_Population_Manager::m_EggSexRatioEqns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logistic equations for egg sex ratio vs. age/mass [96 mass classes × 365 ages]. </p>
<p>Two-dimensional lookup table: m_EggSexRatioEqns[mass_class][age]</p>
<p>Mass classes: 0-95 representing 4.0-27.75 mg (0.25 mg increments) Age range: 0-364 days Values: Probability of female egg (0.0-1.0)</p>
<p>Calculated during Init() from logistic functions fitted to Seidelmann et al. (2010) data relating maternal age/mass to observed sex ratios.</p>
<dl class="section user"><dt>Memory Footprint</dt><dd>96 × 365 × 8 bytes ≈ 280 KB per population manager. Modest cost for avoiding thousands of daily logistic function evaluations.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a07440f88c0d15804f59f4b3ae165bdf0" title="Calculate sex ratio (proportion female) based on maternal age and mass.">GetSexRatioEggsAgeMass()</a> for access method </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01538">1538</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01205">GetSexRatioEggsAgeMass()</a>.</p>

</div>
</div>
<a id="ae9ccfc0c028e5fc319c2ee8751f52aa8" name="ae9ccfc0c028e5fc319c2ee8751f52aa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ccfc0c028e5fc319c2ee8751f52aa8">&#9670;&#160;</a></span>m_exp_ZeroTo1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">probability_distribution Osmia_Population_Manager::m_exp_ZeroTo1 = probability_distribution(&quot;BETA&quot;, &quot;0.75,2.5&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static probability distribution for exponential random variates. </p>
<p>Beta distribution for stochastic variation (exponential-like decay 0→1).</p>
<p>Provides efficiently-sampled exponential distribution (0-1 range). Used for stochastic variation in provision masses and other exponentially- distributed quantities. Static shared across all population managers (though typically only one manager per simulation).</p>
<p>Beta(0.75, 2.5) distribution provides right-skewed random variates approximating exponential decay. Used for stochastic variation in provision masses, ensuring most values near mean with occasional large deviations.</p>
<dl class="section user"><dt>Statistical Properties</dt><dd>Beta(0.75, 2.5):<ul>
<li>Range: [0, 1]</li>
<li>Mean: 0.75/(0.75+2.5) = 0.231</li>
<li>Mode: Near 0 (right-skewed)</li>
<li>Useful for multiplicative variation (e.g., ±60% around mean)</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Usage in Code</dt><dd>Example: provision_mass = base_mass - (m_exp_ZeroTo1.Get() × base_mass × 0.6) Creates asymmetric variation: mostly close to base, occasionally much lower.</dd></dl>
<dl class="section user"><dt>Biological Rationale</dt><dd>Resource acquisition inherently variable but constrained (can't provision negative pollen). Right-skewed distribution captures: most provisioning near optimal, occasional poor days (bad weather, interference) causing large reductions.</dd></dl>
<dl class="section user"><dt>Implementation Note</dt><dd>Static member shared across all population managers (though typically only one per simulation). Initialized at compile time, avoiding repeated distribution setup. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01401">1401</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8cpp.html#a6e57875b63bcca50ca17c6922f3b2a1b">cfg_PollenScoreToMg()</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01161">GetFirstCocoonProvisioningMass()</a>.</p>

</div>
</div>
<a id="aa610b5c4a77c7ba4092415df8d9c6959" name="aa610b5c4a77c7ba4092415df8d9c6959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa610b5c4a77c7ba4092415df8d9c6959">&#9670;&#160;</a></span>m_FemaleCocoonMassEqns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="Osmia__Population__Manager__dox_8h.html#a6798b7258653665705da812a13176dc6">femalecocoonmassvsagelogisticcurvedata</a>&gt; Osmia_Population_Manager::m_FemaleCocoonMassEqns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logistic equations for female cocoon mass vs. maternal age/mass [96 mass classes × 365 ages]. </p>
<p>Two-dimensional lookup table: m_FemaleCocoonMassEqns[mass_class][age]</p>
<p>Returns target provision mass for first female offspring cell. Implements Seidelmann et al. (2010) declining investment pattern: heavier initial investment in first female cells, declining with maternal age and resource depletion.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ae6d5c7749d17a5368548ed28341cef60" title="Calculate first female cocoon mass based on female age and mass class.">GetFirstCocoonProvisioningMass()</a> for access method with stochastic variation </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01550">1550</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01161">GetFirstCocoonProvisioningMass()</a>.</p>

</div>
</div>
<a id="a041381d941e90e5aaac234b7d73ef1fd" name="a041381d941e90e5aaac234b7d73ef1fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041381d941e90e5aaac234b7d73ef1fd">&#9670;&#160;</a></span>m_FemaleDensityGrid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;int&gt; Osmia_Population_Manager::m_FemaleDensityGrid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Female density grid [1 km² cells]. </p>
<p>Integer vector storing count of active females per grid cell. Grid extent calculated from landscape dimensions during initialization.</p>
<p>Size = (landscape_width_km) × (landscape_height_km)</p>
<p>Updated incrementally as females emerge, move, and die.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a10807600ea585ff6e1ebbe2b7e2c3f4a" title="Add female to spatial density grid.">AddToDensityGrid()</a>, <a class="el" href="#ab3d79318d78fd04cabe719353b6b126c" title="Remove female from density grid.">RemoveFromDensityGrid()</a>, <a class="el" href="#adbfdb5f5c249152bc427717afaf9edec" title="Query female density at location.">GetDensity()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01563">1563</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01234">AddToDensityGrid()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01248">AddToDensityGrid()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01299">ClearDensityGrid()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01276">GetDensity()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01288">GetDensity()</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01265">RemoveFromDensityGrid()</a>.</p>

</div>
</div>
<a id="a9726e114711a070e01a55605ca095595" name="a9726e114711a070e01a55605ca095595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9726e114711a070e01a55605ca095595">&#9670;&#160;</a></span>m_FlyingWeather</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Osmia_Population_Manager::m_FlyingWeather</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Daily foraging hours available (weather-dependent). </p>
<p>Calculated by <a class="el" href="#a0bd3985c1d7e6eee0f448b3dfab5907c" title="Calculate available foraging hours for current day.">CalForageHours()</a> each morning, used by all females throughout day. Value 0-24 representing hours meeting flight criteria. Typical range: 0 (very poor weather) to 8-10 (excellent foraging weather). </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01444">1444</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01091">GetForageHours()</a>.</p>

</div>
</div>
<a id="a831a63d1f349ea602c1c5c88ebdde7a9" name="a831a63d1f349ea602c1c5c88ebdde7a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831a63d1f349ea602c1c5c88ebdde7a9">&#9670;&#160;</a></span>m_GridExtent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Osmia_Population_Manager::m_GridExtent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of grid cells in X direction. </p>
<p>m_GridExtent = landscape_width / 1000 (meters per grid cell) Used for coordinate-to-index conversions. </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01570">1570</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01234">AddToDensityGrid()</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01276">GetDensity()</a>.</p>

</div>
</div>
<a id="ac88114974ea30377e98b5df7b096f1a4" name="ac88114974ea30377e98b5df7b096f1a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88114974ea30377e98b5df7b096f1a4">&#9670;&#160;</a></span>m_NestProvisioningParameters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Osmia_Population_Manager::m_NestProvisioningParameters[365]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre-calculated provisioning time parameters [days 0-364]. </p>
<p>Lookup table storing hours required to provision one cell as function of female age. Calculated during Init() from Seidelmann (2006) equations.</p>
<p>Index = female age (days since emergence) Value = hours needed for complete cell provisioning</p>
<p>Array size 365 provides full-year coverage even though bees rarely survive beyond 60 days (safety margin with minimal memory cost).</p>
<dl class="section user"><dt>Difference from Formal Model</dt><dd><b>EXACT MATCH</b> - Values implement Seidelmann (2006) equations precisely. Pre-calculation is performance optimization (avoid repeated exp() calls).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aaad8e681ff0f0b5ac24c50a289701496" title="Get provisioning time parameter for given adult age.">GetProvisioningParams()</a> for access method </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01519">1519</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01119">GetProvisioningParams()</a>.</p>

</div>
</div>
<a id="a5ab8984714c174caa5b3845bee304147" name="a5ab8984714c174caa5b3845bee304147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab8984714c174caa5b3845bee304147">&#9670;&#160;</a></span>m_OurOsmiaNestManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Osmia_Nest_Manager Osmia_Population_Manager::m_OurOsmiaNestManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Nest management interface. </p>
<p>Handles nest lifecycle: creation, polygon association, cell tracking, destruction. Separates nest infrastructure from population manager, allowing independent nest management logic evolution.</p>
<dl class="section user"><dt>Design Rationale</dt><dd>Nest manager could be integrated into landscape (polygon-level storage) or individual agents (each bee knows its nest). Separate manager class chosen because:<ul>
<li>Nests outlive individual bees (one female provisions, multiple offspring emerge)</li>
<li>Polygon-level capacity tracking required (density regulation)</li>
<li>Parasitoid queries need nest-level data independent of current occupant </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01500">1500</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01026">CreateNest()</a>, <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l00995">IsOsmiaNestPossible()</a>, <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">Osmia_Population_Manager()</a>, and <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01055">ReleaseOsmiaNest()</a>.</p>

</div>
</div>
<a id="a31f070dd120b3b8f827762d769d2ea19" name="a31f070dd120b3b8f827762d769d2ea19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f070dd120b3b8f827762d769d2ea19">&#9670;&#160;</a></span>m_OverWinterEndFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Osmia_Population_Manager::m_OverWinterEndFlag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating overwintering period has ended (March 1st). </p>
<p>Simple calendar-based flag set TRUE on March 1st regardless of weather. After this date, adults may emerge from cocoons once accumulated sufficient overwintering degree-days.</p>
<dl class="section user"><dt>Biological Basis</dt><dd><em>Osmia bicornis</em> has obligate winter diapause: even under warm conditions, bees will not emerge until experiencing winter-like temperatures for sufficient duration. Fixed date (March 1st) represents earliest possible emergence in European temperate climate context.</dd></dl>
<p><b>Difference from Formal Model</b>: Formal model specifies temperature-based emergence criteria without explicit calendar constraint. Implementation adds March 1st minimum to prevent unrealistic mid-winter emergence in warm years. This reflects biological reality of photoperiod cues not captured in temperature- only model. </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01484">1484</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01699">DoLast()</a>, and <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">Osmia_Population_Manager()</a>.</p>

</div>
</div>
<a id="ab3336fe0e841e7d626678ad8931b0457" name="ab3336fe0e841e7d626678ad8931b0457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3336fe0e841e7d626678ad8931b0457">&#9670;&#160;</a></span>m_PN_thresholds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classOsmiaPollenNectarThresholds.html">OsmiaPollenNectarThresholds</a>&gt; Osmia_Population_Manager::m_PN_thresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Monthly pollen and nectar quality/quantity thresholds. </p>
<p>Vector of 12 <a class="el" href="classOsmiaPollenNectarThresholds.html" title="Container for monthly resource quality and quantity thresholds.">OsmiaPollenNectarThresholds</a> objects (one per month). Used by females during foraging to decide whether patch meets minimum acceptability criteria.</p>
<p>Read from configuration during Init(), indexed by current month during foraging decisions.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classOsmiaPollenNectarThresholds.html" title="Container for monthly resource quality and quantity thresholds.">OsmiaPollenNectarThresholds</a> class documentation </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01625">1625</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

</div>
</div>
<a id="a14863baeddd12da798e7ed621a2d932b" name="a14863baeddd12da798e7ed621a2d932b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14863baeddd12da798e7ed621a2d932b">&#9670;&#160;</a></span>m_PollenCompetitionsReductionScaler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Osmia_Population_Manager::m_PollenCompetitionsReductionScaler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pollen availability scaling factor for interspecific competition. </p>
<p>Multiplier (0.0-1.0) reducing available pollen to account for consumption by other bee species. Value 1.0 = no competition (only <em>Osmia</em> present), value 0.5 = 50% of pollen already consumed by competitors before <em>Osmia</em> forages.</p>
<dl class="section user"><dt>Biological Context</dt><dd><em>Osmia bicornis</em> co-occurs with many other bee species (honeybees, bumblebees, other solitary bees). All compete for same floral resources. Explicit competition modelling complex (requires multi-species population dynamics), so simple scaling factor approximates net effect.</dd></dl>
<dl class="section user"><dt>Parameterization</dt><dd>Read from configuration (cfg_OsmiaPollenCompetitionReductionScaler). Ideally estimated from field studies measuring resource depletion rates in presence/absence of competitor species. In practice, often calibrated to match observed <em>Osmia</em> population dynamics in landscapes with known bee community composition.</dd></dl>
<dl class="section user"><dt>Uncertainty</dt><dd>MEDIUM - Simplified representation of complex competitive interactions. Assumes constant competition intensity across space/time, but reality shows spatial aggregation (honeybee hives) and temporal variation (bumblebee phenology). </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01595">1595</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">Osmia_Population_Manager()</a>.</p>

</div>
</div>
<a id="ad711ff1a350a4f5f801bfa6640035c45" name="ad711ff1a350a4f5f801bfa6640035c45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad711ff1a350a4f5f801bfa6640035c45">&#9670;&#160;</a></span>m_PrePupalDevelDaysToday</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Osmia_Population_Manager::m_PrePupalDevelDaysToday</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Today's prepupal development rate (pre-calculated). </p>
<p>Updated each morning during <a class="el" href="#ac8550e666f983a8659764362e18bdc59" title="Pre-step updates executed before Step but after DoFirst.">DoBefore()</a> based on temperature forecast. Cached for efficiency (all prepupae query same value throughout day). </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01612">1612</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01331">GetPrePupalDevelDays()</a>.</p>

</div>
</div>
<a id="a8dc33bb2117535d08fd02218e5c1f263" name="a8dc33bb2117535d08fd02218e5c1f263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc33bb2117535d08fd02218e5c1f263">&#9670;&#160;</a></span>m_PrePupalDevelRates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; Osmia_Population_Manager::m_PrePupalDevelRates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepupal development rate lookup table. </p>
<p>Vector storing temperature-dependent development rates for prepupal stage. Although prepupal model is time-based (not degree-day), rates still weakly temperature-dependent to acknowledge physiological reality.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a39293145ad4e75b9e49069b9c5107391" title="Get today&#39;s prepupal development increment.">GetPrePupalDevelDays()</a> for daily rate access </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01605">1605</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">Osmia_Population_Manager()</a>.</p>

</div>
</div>
<a id="a5139afa64bf5f2ae2434872e36ed68ce" name="a5139afa64bf5f2ae2434872e36ed68ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5139afa64bf5f2ae2434872e36ed68ce">&#9670;&#160;</a></span>m_PreWinteringEndFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Osmia_Population_Manager::m_PreWinteringEndFlag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating pre-wintering period has ended. </p>
<p>Pre-wintering is period between last emergence and onset of overwintering (roughly late August through September/early October). During this period, adult bees in cocoons undergo physiological changes preparing for winter dormancy.</p>
<p>Flag set TRUE when sustained autumn temperature drop detected (<a class="el" href="#ac26723b9c2f8c9d31d62ef9e6f184185" title="End-of-day updates executed after all agents finish.">DoLast()</a> logic: three consecutive days &lt;13°C with declining trend). This triggers transition to overwintering phase where different development rules apply.</p>
<dl class="section user"><dt>Biological Significance</dt><dd>Pre-wintering/overwintering transition marks switch from active development (degree-day accumulation toward emergence) to dormancy (slower cold-hardening processes). Timing affects spring emergence phenology: earlier transition → longer overwintering → later emergence (potentially missing early flowers).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ac26723b9c2f8c9d31d62ef9e6f184185" title="End-of-day updates executed after all agents finish.">DoLast()</a> for flag-setting logic </dd></dl>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01464">1464</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01699">DoLast()</a>, and <a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html#l01532">Osmia_Population_Manager()</a>.</p>

</div>
</div>
<a id="a78efbc07c6bc9c13174fce2e224811d6" name="a78efbc07c6bc9c13174fce2e224811d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78efbc07c6bc9c13174fce2e224811d6">&#9670;&#160;</a></span>m_ThePollenMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PollenMap_centroidbased* Osmia_Population_Manager::m_ThePollenMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to pollen map object. </p>
<p>Provides spatial interface to floral resource availability. Females query pollen map for nearby flower patches, resource quality/quantity, and distances to resources. Pollen map typically constructed from landscape land-use data combined with floral resource models. </p>

<p class="definition">Definition at line <a class="el" href="Osmia__Population__Manager__dox_8h_source.html#l01436">1436</a> of file <a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Osmia__Population__Manager__dox_8h_source.html">Osmia_Population_Manager_dox.h</a></li>
<li>src/<a class="el" href="Osmia__Population__Manager__dox_8cpp_source.html">Osmia_Population_Manager_dox.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="classOsmia__Population__Manager.html">Osmia_Population_Manager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
